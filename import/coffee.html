<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Photon Life</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- BootStrap -->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- StyleSheet -->
    <link rel="stylesheet" href="stylesheet/styles.css">
    <link rel="stylesheet" href="stylesheet/coffeestyles">

    <!--- J Query -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<style>
    table {
        border-collapse: collapse;
        margin: 15px 0;
    }

    td, th {
        border: 1px solid black;
        padding: 5px 10px;
    }
    .coffee {
        margin: 5px;
        word-wrap: break-word;
    }

    .btn-clear {
        margin-top: 1em;
    }

    .smheader {
        color:#734022;
        /*color:#E68145;*/
        font-weight: bold;
        transform: rotate(-04deg);
        text-shadow: 1px 1px lightgray;
        font-family: 'Dela Gothic One', cursive;
    }



    body{
        /*background-image: url("");*/
        font-family: 'Oswald', sans-serif;
        background-size: auto;
        /*background-color: #FCA73F;*/
        background: linear-gradient(to top, #E6712E, #FCA73F);
    }

    .coffeerender{
        overflow: auto;
    }

    h1 {
        display: flex;
        justify-content: center;
        height: 3.5em;
        align-items: center;
        color:#734022;
        /*color:#E68145;*/
        font-weight: bold;
        transform: rotate(-04deg);
        text-shadow: 1px 1px lightgray;
        font-family: 'Dela Gothic One', cursive;
    }
    .imgheader {
        width: 100vw;
        position:center;
    }
    h5 {
        font-size: 20px;
    }
    p {
        font-size: 18px;
    }
    header{
        color: white;
    }

    .card {
        overflow:auto;
        -webkit-box-shadow: 3px 3px 2px -1px rgba(158,158,158,0.95);
        box-shadow: 3px 3px 2px -1px rgba(158,158,158,0.95);
    }


    /*!************** media query for xs, sm , md, lg seperately*/



    @media screen and (min-width: 576px) {
        p {font-size:12px;
        } /*1rem = 16px*/

        .coffee {
            word-wrap: break-word;
        }
    }


    /*/!***************** change font sizes*/
</style>
<body>
<!-- NAV BAR -->



<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <!-- Container wrapper -->
    <div class="container">
        <!-- Navbar brand -->
        <a class="navbar-brand" href="/home">
            <!--            <img th:src="@{/users/avatars/BlueSphere1.2.gif}" width="50" height="50" class="d-inline-block align-top" alt=""/>-->
            <img src="https://live.staticflickr.com/65535/51369056853_85ef692ae7_o.gif" width="50" height="50" class="d-inline-block align-top" alt="">
        </a>

        <a class="navbar-brand me-2" href="/home">
            PHOTONS
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <!-- Left links -->
            <!--            <ul class="navbar-nav me-auto mb-2 mb-lg-0">-->

            <!--                <li class="nav-item">-->
            <!--                    <a class="nav-link" href="groups">groups</a>-->
            <!--                </li>-->
            <!--                <li class="nav-item">-->
            <!--                    <a class="nav-link" href="friends">friends</a>-->
            <!--                </li>-->
            <!--            </ul>-->


            <!-- Left links -->

            <div class="d-flex align-items-center">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <!--                    <li class="nav-item">-->
                    <!--                        <a class="nav-link" href="updatestatus">update status</a>-->
                    <!--                    </li>-->
                    <li class="nav-item">
                        <a class="nav-link" href="/Tim">back to photon labs</a>
                    </li>
                    <!--                    <li class="nav-item">-->
                    <!--                        <a class="nav-link" th:action="@{/logout}" th:method="post" th:href="logout">logout</a>-->
                    <!--                    </li>-->

                    <!--                    <li class="nav-item">-->
                    <!--&lt;!&ndash;                         <a&ndash;&gt;-->
                    <!--&lt;!&ndash;                        class="btn btn-dark px-3 material-icons-outlined"&ndash;&gt;-->
                    <!--&lt;!&ndash;                        href="myprofile"&ndash;&gt;-->
                    <!--&lt;!&ndash;                        role="button">&ndash;&gt;-->

                    <!--&lt;!&ndash;                             <i class="material-icons" style="font-size:14px;">account_circle</i>&ndash;&gt;-->
                    <!--&lt;!&ndash;                         </a>&ndash;&gt;-->
                    <!--                    </li>-->

                    <!-- More links here... -->
                    <!-- More links here... -->
                    <!--                    <li class="nav-item">-->
                    <!--                        <form th:action="@{/logout}" th:method="post">-->
                    <!--                            <button class="btn-link btn" style="text-decoration: none; color:#00b1ae">logout</button>-->
                    <!--                        </form>-->
                    <!--                    </li>-->
                </ul>



            </div>
        </div>
        <!-- Collapsible wrapper -->
    </div>
    <!-- Container wrapper -->
</nav>
<!-- END OF NAVBAR     -->

<!--&lt;!&ndash; Media panel &ndash;&gt;-->
<!--<div class="container d-flex justify-content-center mediacontainer flavoursContainer">-->
<!--    <img src="img/photonlife.png">-->
<!--</div>-->


<div class="container justify-content-center textarea">
    <div class="row">
        <div class="col">

        </div>
        <div class="col-9 text-center">
            <h1>Coffee Project</h1>
            <p>This was a paired programming project with<br>
                roland-valdez and timothy lefkowitz </p>
            <p> Mar 31, 2021 </p>





<header class="text-center">
<!--    <img src="imageedit_2_4713469980.jpg" class="imgheader">-->
    <h1>Chemistry Coffee!<span class="oi oi-beaker"></span></h1>
    <a class="smheader">Coffee now Pizza later</a>
    <hr>
</header>
<main>


    <div class="container">
    <div class="row d-flex justify-content-center">



        <!--**************  DISPLAY SCREEN **************-->




        <div class="col-6 d-flex justify-content-start">
            <div class="card w-100 coffeerender">
                <menu id="coffees" class="row d-flex flex-wrap justify-content-around mt-3 p-0"></menu>
            </div>
        </div>




        <!--**************  COFFEE SELECTION **************-->


        <div class="col-6 d-flex justify-content-start flex-column">
            <div class="card p-2">
                <form class="mb-2">


                    <label for="roast-selection" class="form-label">Roast</label>


                    <select class="custom-select form-control custom-select-lg mb-3" id="roast-selection">
                        <option selected value="all" id="allroast">All</option>
                        <option value="light" id="lightroast">light</option>
                        <option value="medium" id="mediumroast">medium</option>
                        <option value="dark" id="darkroast">dark</option>
                    </select>


                    <div class="mb-2">

                        <label for="searchCoffee" class="form-label">Coffee Name</label>
                        <input type="text" class="form-control" id="searchCoffee">
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Submit</button>
                    <p></p>
                </form>
                <hr>
                <!--********** ADDING COFFEES  *************-->
                <h5 class="text-center">Add a Coffee</h5>
                <form class="mt-2">
                    <div class="mb-3">
                        <label for="roast-selection2" class="form-label">Roast</label>
                        <select id='roast-selection2' class="custom-select form-control custom-select-lg mb-3">
                            <!--                <option selected>Open this select menu</option>-->
                            <option value="light">light</option>
                            <option value="medium">medium</option>
                            <option value="dark">dark</option>
                        </select>
                    </div>
                    <div class="mb-2">
                        <label for="addCoffee" class="form-label">Coffee Name</label>
                        <input type="text" class="form-control" id="addCoffee">
                    </div>
                    <button type="submit" id="submit" class="btn btn-primary w-100">Submit</button>
                    <p></p>
                    <button type="submit" id="clear" class="btn btn-primary btn-clear w-100" >Clear</button>

                </form>
            </div>
        </div>
    </div>
    </div>
</main>

<!--BOOTSTRAP JS-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>-->
<script>
    function coffeSelection() {
        var selectedRoast = roastSelection.value;
        var filteredCoffees = [];
        if (selectedRoast === 'all') {
            filteredCoffees = coffees;
        } else {
            coffees.forEach(function(coffee) {
                if (coffee.roast === selectedRoast) {
                    filteredCoffees.push(coffee);
                }
            });
        }
        filteredCoffees.sort(function (b,a){
            return a.id - b.id;
        });
        menu.innerHTML = renderCoffees(filteredCoffees);
    }
    //****************** needs to be refactored to work as a search for those letter pairs
    function autoType(){
        var filteredCoffees = [];
        if (coffeeSearch.value === ""){
            filteredCoffees = coffees;
        }else {
            for(var i = 0; i < coffees.length; i++) {
                if(coffees[i].name.toUpperCase().includes(coffeeSearch.value.toUpperCase())){
                    // if((coffees[i].name[0]).toLowerCase() === (coffeeSearch.value[0]).toLowerCase()){
                    filteredCoffees.push(coffees[i]);
                }
            }
        }
        filteredCoffees.sort(function (b,a){
            return a.id - b.id;
        });
        menu.innerHTML = renderCoffees(filteredCoffees);
    }


    function clearRefresh(e){
        e.preventDefault();
        localStorage.clear();
        location.reload();
    }


    function renderCoffee(coffee) {
        var html = '<div class="coffee col-9 col-sm-4">';
        html += '<h5 class="mx-auto ">' + coffee.name + '</h5>';
        html += '<p>' + coffee.roast + '</p>';
        html += '</div>';
        return html;
    }


    function renderCoffees(coffees) {
        var html = '';
        for(var i = coffees.length - 1; i >= 0; i--) {
            html += renderCoffee(coffees[i]);
        }
        return html;
    }


    function updateCoffees(e) {
        e.preventDefault(); // don't submit the form, we just want to update the data
        id += 1;
        var roast = roastSelection2.value;
        var name = extraCoffee.value;
        coffees.push({id, name, roast});
        coffees.sort(function (b,a){
            return a.id - b.id;
        });
        menu.innerHTML = renderCoffees(coffees);

        var coffeesSerialized = JSON.stringify(coffees);
        localStorage.setItem("coffees", coffeesSerialized);
    }
    //**********************      END OF FUNCTIONS     ***************************
    // if (localStorage.length === 0){
    // from http://www.ncausa.org/About-Coffee/Coffee-Roasts-Guide
    var coffees = [
        {id: 1, name: 'Light City', roast: 'light'},
        {id: 2, name: 'Half City', roast: 'light'},
        {id: 3, name: 'Cinnamon', roast: 'light'},
        {id: 4, name: 'City', roast: 'medium'},
        {id: 5, name: 'American', roast: 'medium'},
        {id: 6, name: 'Breakfast', roast: 'medium'},
        {id: 7, name: 'High', roast: 'dark'},
        {id: 8, name: 'Continental', roast: 'dark'},
        {id: 9, name: 'New Orleans', roast: 'dark'},
        {id: 10, name: 'European', roast: 'dark'},
        {id: 11, name: 'Espresso', roast: 'dark'},
        {id: 12, name: 'Viennese', roast: 'dark'},
        {id: 13, name: 'Italian', roast: 'dark'},
        {id: 14, name: 'French', roast: 'dark'},
    ];
    // }
    // else {
    //     coffees = JSON.parse(localStorage.getItem("coffees"));
    // }
    var id = coffees.length;

    //***************  DISPLAY **************
    var menu = document.querySelector('#coffees');
    //***************  COFFEE SELECTION **************
    var roastSelection = document.querySelector('#roast-selection');
    var coffeeSearch = document.querySelector('#searchCoffee');
    //***************  ADDING COFFEES **************
    var roastSelection2 = document.querySelector('#roast-selection2');
    var extraCoffee = document.querySelector('#addCoffee');
    var submitButton = document.querySelector('#submit');
    var clearbtn = document.querySelector('#clear')

    menu.innerHTML = renderCoffees(coffees);

    roastSelection.addEventListener("change", coffeSelection);
    coffeeSearch.addEventListener('input', autoType);
    submitButton.addEventListener('click', updateCoffees);
    clearbtn.addEventListener('click', clearRefresh);</script>

<!--- Scripts --->

<script src="js/js.js"></script>



<!--Boot Strap -->

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>




        </div>
        <div class="col">

        </div>
    </div>
</div>

</body>
</html>